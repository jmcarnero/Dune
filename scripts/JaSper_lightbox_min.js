/*! JaSper v3.5 | (c) 2015 Jos√© M. Carnero (sargazos.net) | JaSper_lightbox v1.1 */
JaSper.extend(JaSper.prototype,{lightbox:function(a){"use strict";function f(b){var c=b.getAttribute(a.pie),d=b.getAttribute(a.descripcion);c?(e.innerHTML="<strong>"+c+"</strong>",d&&(e.innerHTML+="<br /><span>"+d+"</span>"),e.style.display="block"):(e.style.display="none",e.innerHTML="")}a=a||{},a.origen=a.origen||"href",a.pie=a.pie||"alt",a.descripcion=a.descripcion||"title",a.exif=a.exif||null,a.contenedor||(a.contenedor=JaSper.nodo.crear("div",{className:"JaSper_lightbox",id:"JaSper_lightbox",title:"JaSper Lightbox",style:"display:none;background:rgba(221, 221, 221, 0.7) none repeat scroll 0 0;height:100%;left:0;position:fixed;text-align:center;top:0;width:100%;z-index:9999;"},document.getElementsByTagName("body")[0]));var b=[],c=[],d=JaSper.nodo.crear("img",{className:"JaSper_lightbox_img",alt:"JaSper Lightbox image",src:"",style:"height:auto;margin-top:2.5%;max-height:90%;max-width:90%;width:auto;"});a.contenedor.appendChild(d);var e=JaSper.nodo.crear("p",{className:"JaSper_lightbox_img_p",style:"display:none;"});return a.contenedor.appendChild(e),JaSper.event.add(a.contenedor,"click",function(a){this.style.display="none"}),JaSper.event.add(d,"click",function(d){JaSper.event.stop(d);var e=this.src,g=b.indexOf(e)+1;g>=b.length&&(g=0),this.src=b[g],this[a.pie]=c[g].tit||"",this[a.descripcion]=c[g].desc||"",f(this)}),this.eventAdd("click",function(b){JaSper.event.preventDefault(b),d.src=this.getAttribute(a.origen),f(this),a.contenedor.style.display="block"}).each(function(){var e=this.getAttribute(a.origen);e&&(b.indexOf(e)<0&&(d.src=e,c[b.length]={tit:this.getAttribute(a.pie),desc:this.getAttribute(a.descripcion)},b[b.length]=d.src),d.src="")}),this}});
